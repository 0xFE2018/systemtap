2007-02-06  Josh Stone  <joshua.i.stone@intel.com>

	* nfs.stp, nfs_proc.stp, nfsd.stp, process.stp, tskdispatch.stp:
	Protect pointer dereferences with kread wherever possible.  Some
	places still have hazards, as marked with FIXMEs.

	* aio.stp (log_io_getevents): Don't use return in tapset C functions.
	* timestamp.stp (set_timing_method): Ditto.
	* utils.stp (filter_by_pid): Ditto.

2006-12-29  Li Guanglei <guanglei@cn.ibm.com>

	From Gui Jian <guij@cn.ibm.com>
	* nfs.stp: patch for 2.6.19 kernel
	
2006-12-23  Li Guanglei <guanglei@cn.ibm.com>

	From Gui Jian <guij@cn.ibm.com>
	* rpc.stp: fix wrong HOOKID for _addevent.sunrpc.svc.recv.entry
	and _addevent.sunrpc.svc.recv.return

2006-12-20  Li Guanglei <guanglei@cn.ibm.com>

	From Gui Jian <guij@cn.ibm.com>
	* rpc.stp, register_event.stp: bugfix of rpc event
	register codes.

2006-12-11  Li Guanglei <guanglei@cn.ibm.com>

	From Gui Jian <guij@cn.ibm.com>
	* nfs.stp, nfs_proc.stp, patch for 2.6.9 kernel

2006-11-19  Li Guanglei <guanglei@cn.ibm.com>
	bugfix for #3526
	* lket_trace.stp: add the logging of pid, ppid
	* process.stp: add logging of tid, ppid for 
	lket_internal.process.execve. Change to use 
	for_each_process() in process_snapshot() to get
	the info of all running processes.
	* register_event.stp: update the registering codes
	of execve event.
	
2006-11-17  Li Guanglei <guanglei@cn.ibm.com>

	From Eugene Teo <eteo@redhat.com>

	* process.stp, register_event.stp, hookid_defs.stp: add
	trace hooks for addevent.process.exit.entry

2006-11-15  Li Guanglei <guanglei@cn.ibm.com>

	* aio.stp, iosyscall.stp, pagefault.stp, process.stp:
	use c global variables instead of stap global variables
	to avoid better performance.
	* aio.stp, netdev.stp: visit members in scripts for 
	better safety check.
	* nfs.stp: bugfix to uncomment some functions.
	
2006-11-11  Li Guanglei <guanglei@cn.ibm.com>

	* register_event.stp: pass integer values explicitly
	as 64-bit into _lket_trace() to avoid error when parse
	va-arg by _stp_printf
	
2006-11-10  Li Guanglei <guanglei@cn.ibm.com>

	* iosyscall.stp: add some trace aliases
	* register_event.stp: register sys events 
	in embedded c codes for stap to better
	optimize the generated codes.
	bugfix of nfs event register codes.

2006-11-09  Li Guanglei <guanglei@cn.ibm.com>

	* process.stp: make fork/execce trace hooks
	lket internally and turned on by default.
	add stoptrace_fork and stoptrace_execve flags to
	control stopping fork/execve in user scripts

2006-10-31  Li Guanglei <guanglei@cn.ibm.com>

	* register_event.stp: changes of all event_desc 
	used in register_sys_event

2006-10-23  Li Guanglei <guanglei@cn.ibm.com>

	* register_event.stp: bufix of variable name

2006-10-13  Li Guanglei <guanglei@cn.ibm.com>
	* register_event.stp: be sync with scsi trace hooks
	* scsi.stp: avoid reference to struct members in
	embedded c. Use stap variables as more as possible.
	break scsi_info into four variables.
	delete cmd_pid from all logging functions
	
2006-10-12  Li Guanglei <guanglei@cn.ibm.com>
	* hookid_defs.stp, ioscheduler.stp, register_event.stp:
	break the old addevent.ioscheduler.elv_next_request into
	addevent.ioscheduler.elv_next_request.entry and
	addevent.ioscheduler.elv_next_request.return.
	Now log_ioscheduler_tracedata_* will use the 
	variables defined in generic ioscheduler tapset

2006-10-11  Li Guanglei <guanglei@cn.ibm.com>

	* aio.stp, nfs.stp, nfs_proc.stp, nfsd.stp, process.stp:
	bugfix of pointer conversion on 32-bit platform

2006-10-10  Li Guanglei <guanglei@cn.ibm.com>

	* hookiddefs.stp: some changes to the hookid:

	Now the hookid of a return type event(addevent.*.return) 
	should be an even number and its value should be the
	corresponding entry event hookid +1.

	The hookid of a non-return type event should be an odd
	number.

	Add the hookid of HOOKID_REGEVTDESC

	* register_event.stp: 

	add register_evt_desc() to register the description of an event.

	Change the register_sys_event() to add the an argument 
	representing event description

	Allow to use empty format string and empty field name when 
	calling register_event().

	Change all calling to register_sys_event() to add an
	argument which represents the event description.

	Change register_evt_desc() and register_event() to add an argument
	representing the event description string, which could help
	facilitate the error debugging.

	* iosyscall.stp: bugfix to add the variable GroupID and hookID

	* nfs.stp: bugfix to add some omitted probe definitions.

	* nfs_proc.stp: bugfix of the wrong calling to _lket_trace() for
	nfs_proc.remove.entry.

2006-09-26  David Smith  <dsmith@redhat.com>

	* tskdispatch.stp: Changed 'stpd' reference to 'staprun'.

2006-09-23  Li Guanglei <guanglei@cn.ibm.com>

	* register_event.stp, process.stp, lket_trace.stp: Change to
	per_cpu_ptr(Stp_pbuf, smp_processor_id()) to get the per-cpu
	printing buffer

	
2006-09-19  Li Guanglei <guanglei@cn.ibm.com>

	From Gui Jian <guijian@cn.ibm.com>

	* lket_trace.stp,process.stp,register_event.stp: Be
	sync with the runtime printing changes made by Martin


2006-09-19  Li Guanglei <guanglei@cn.ibm.com>

	From Gui Jian <guijian@cn.ibm.com>

	* rpc.stp: New trace hooks for RPC activities on client, 
	server and scheduler.
	* register_event.stp: Add the register_sys_event() calls
	for new RPC trace hooks
	* hookid_defs.stp: Add the definitions of RPC trace hooks
	
2006-09-15  Li Guanglei <guanglei@cn.ibm.com>

	* *.stp: Make sure all integers passed into _lket_trace()
	are casted into int64_t explicitly. Delete calling to 
	filter_by_pid()
	* nfs*.stp: change addevent.*.entries to addevent.*.entry.
	Reformating of some calls to _lket_trace().
	
2006-09-12  Li Guanglei <guanglei@cn.ibm.com>

	* iosyscall.stp: change log_iosyscall_sync() be sync
	with different timing methods.
	* utils.stp: add reset_maxaction() since there are too
	many functions called inside "probe begin".

2006-09-12  Li Guanglei <guanglei@cn.ibm.com>

	From Li Xuepeng <xuepengl@cn.ibm.com>

	* nfsd.stp, nfs_proc.stp, nfs.stp: New trace hooks for
	NFS, including both NFS client and server side activities.
	* register_event.stp: Add the register event calls for NFS
	trace hooks.

2006-08-29  Li Guanglei <guanglei@cn.ibm.com>
	
	From Gui Jian <guijian@cn.ibm.com>

	New tapset to add another two kinds of timing methods,
	i.e, get_cycles() and sched_clock().

	* hookid_defs.stp: add CPUFREQ related definitions add 
	lket_init_time/lket_kill_time to register/unregister 
	cpufreq notifier
	* lket_trace.stp: print timing_method and cpufreq in 
	lket_init_header; use different timing methods in _lket_trace
	* register_event.stp: register HOOKID_SWITCH_CPUFREQ event
	* timestamp.stp: definitions of timing method related 
	functions and variables
	
2006-08-25  Li Guanglei <guanglei@cn.ibm.com>
	
	* syscall.stp: add "probe never" to generate 
	reference to hookid_defs.stp to avoid compiling error
	
2006-08-22  Li Guanglei <guanglei@cn.ibm.com>
	
	* signal.stp, hookid_defs.stp, register_event.stp:
	add signal trace hooks.
	* syscall.stp: eliminates global stap variable of
	HOOKID_SYSCALL_* for faster speed
	
2006-08-09  Josh Stone  <joshua.i.stone@intel.com>

	* pagefault.stp: move pagefault to vm.* namespace

2006-07-14  Li Guanglei <guanglei@cn.ibm.com>
	
	* aio.stp: bugfix to make each aio sub event hook
	runnable standalone.
	
2006-07-11  Li Guanglei <guanglei@cn.ibm.com>
	
	* process.stp, register_event.stp: changes to
	addevent.process to generate adequate info
	of process relationships
	* lket_trace.stp: use current->parent->tgid as the 
	parent process id for ascii tracing
	
2006-06-29  Li Guanglei <guanglei@cn.ibm.com>
	
	* lket_trace.stp: 
	_lket_trace() won't log ppid and tgid any more.
	Using bit-OP to make _lket_trace's format string shorter
	for better performance.
	
2006-06-26  Li Guanglei <guanglei@cn.ibm.com>
	
	* aio.stp: new event hooks for AIO
	* register_events.stp, hookid_defs.stp: changes for aio.stp. 
	* register_events.stp, process.stp: bugfix for ascii tracing
	
2006-06-24  Li Guanglei <guanglei@cn.ibm.com>
	
	* iosyscall.stp, register_events.stp: change the return type from string to int64_t
	for better performance. sub-hooks for each iosyscall.
	* lket_trace.stp: make update_record() work for ascii tracing

2006-06-21  Li Guanglei <guanglei@cn.ibm.com>
	
	* scsi.stp, ioscheduler.stp, register_event.stp: 
	More data items for scsi and ioscheduler event hooks
	* ioscheduler.stp: delete filter_by_pid filter for io scheduler
	event hooks
	
2006-06-15  Li Guanglei <guanglei@cn.ibm.com>
	
	* iosyscall.stp: new event hooks for io related syscalls
	* hookid_defs.stp: add the necessary IDs for iosyscall event hooks
	* register_event.stp: add corresponding event register calls
	of the newly added io syscall event hooks
	
2006-06-09  Li Guanglei <guanglei@cn.ibm.com>
	
	* *.stp: New design of making user able to append extra trace data.
	lket_backtrace() is deleted.
	* register_event.stp: write the metainfo of trace data.
	
2006-06-01  Li Guanglei <guanglei@cn.ibm.com>
	
	* *.stp: make user able to append extra trace data. The
	way of logging backtrace is also changed 
	
2006-05-25  Li Guanglei <guanglei@cn.ibm.com>
	
	* hookid_defs.stp, ioscheduler.stp, lket_trace.stp, netdev.stp,
	pagefault.stp, process.stp, scsi.stp, syscalls.stp, tskdispatch.stp,
	utils.stp: explicitly add type qualifier for different arch to 
	make _stp_vsnprintf get the argument by va_arg correctly.
	
2006-05-18  Li Guanglei <guanglei@cn.ibm.com>
	
	Initial version by Li Guanglei.
	* hookid_defs.stp, ioscheduler.stp, lket_trace.stp, netdev.stp,
	pagefault.stp, process.stp, scsi.stp, syscalls.stp, tskdispatch.stp, utils.stp

