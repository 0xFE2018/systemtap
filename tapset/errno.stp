global _errno_table

probe begin{
        _errno_table[1] = "EPERM"
        _errno_table[2] = "ENOENT"
        _errno_table[3] = "ESRCH"
        _errno_table[4] = "EINTR"
        _errno_table[5] = "EIO"
        _errno_table[6] = "ENXIO"
        _errno_table[7] = "E2BIG"
        _errno_table[8] = "ENOEXEC"
        _errno_table[9] = "EBADF"
        _errno_table[10]= "ECHILD"
        _errno_table[11]= "EAGAIN"
        _errno_table[12]= "ENOMEM"
        _errno_table[13]= "EACCES"
        _errno_table[14]= "EFAULT"
        _errno_table[15]= "ENOTBLK"
        _errno_table[16]= "EBUSY"
        _errno_table[17]= "EEXIST"
        _errno_table[18]= "EXDEV"
        _errno_table[19]= "ENODEV"
        _errno_table[20]= "ENOTDIR"
        _errno_table[21]= "EISDIR"
        _errno_table[22]= "EINVAL"
        _errno_table[23]= "ENFILE"
        _errno_table[24]= "EMFILE"
        _errno_table[25]= "ENOTTY"
        _errno_table[26]= "ETXTBSY"
        _errno_table[27]= "EFBIG"
        _errno_table[28]= "ENOSPC"
        _errno_table[29]= "ESPIPE"
        _errno_table[30]= "EROFS"
        _errno_table[31]= "EMLINK"
        _errno_table[32]= "EPIPE"
        _errno_table[33]= "EDOM"
        _errno_table[34]= "ERANGE"
        _errno_table[35]= "EDEADLK"
        _errno_table[36]= "ENAMETOOLONG"
        _errno_table[37]= "ENOLCK"
        _errno_table[38]= "ENOSYS"
        _errno_table[39]= "ENOTEMPTY"
        _errno_table[40]= "ELOOP"
        _errno_table[41]= "EWOULDBLOCK"
        _errno_table[42]= "ENOMSG"
        _errno_table[43]= "EIDRM"
        _errno_table[44]= "ECHRNG"
        _errno_table[45]= "EL2NSYNC"
        _errno_table[46]= "EL3HLT"
        _errno_table[47]= "EL3RST"
        _errno_table[48]= "ELNRNG"
        _errno_table[49]= "EUNATCH"
        _errno_table[50]= "ENOCSI"
        _errno_table[51]= "EL2HLT"
        _errno_table[52]= "EBADE"
        _errno_table[53]= "EBADR"
        _errno_table[54]= "EXFULL"
        _errno_table[55]= "ENOANO"
        _errno_table[56]= "EBADRQC"
        _errno_table[57]= "EBADSLT"
        _errno_table[58]= "EDEADLOCK"
        _errno_table[59]= "EBFONT"
        _errno_table[60]= "ENOSTR"
        _errno_table[61]= "ENODATA"
        _errno_table[62]= "ETIME"
        _errno_table[63]= "ENOSR"
        _errno_table[64]= "ENONET"
        _errno_table[65]= "ENOPKG"
        _errno_table[66]= "EREMOTE"
        _errno_table[67]= "ENOLINK"
        _errno_table[68]= "EADV"
        _errno_table[69]= "ESRMNT"
        _errno_table[70]= "ECOMM"
        _errno_table[71]= "EPROTO"
        _errno_table[72]= "EMULTIHOP"
        _errno_table[73]= "EDOTDOT"
        _errno_table[74]= "EBADMSG"
        _errno_table[75]= "EOVERFLOW"
        _errno_table[76]= "ENOTUNIQ"
        _errno_table[77]= "EBADFD"
        _errno_table[78]= "EREMCHG"
        _errno_table[79]= "ELIBACC"
        _errno_table[80]= "ELIBBAD"
        _errno_table[81]= "ELIBSCN"
        _errno_table[82]= "ELIBMAX"
        _errno_table[83]= "ELIBEXEC"
        _errno_table[84]= "EILSEQ"
        _errno_table[85]= "ERESTART"
        _errno_table[86]= "ESTRPIPE"
        _errno_table[87]= "EUSERS"
        _errno_table[88]= "ENOTSOCK"
        _errno_table[89]= "EDESTADDRREQ"
        _errno_table[90]= "EMSGSIZE"
        _errno_table[91]= "EPROTOTYPE"
        _errno_table[92]= "ENOPROTOOPT"
        _errno_table[93]= "EPROTONOSUPPORT"
        _errno_table[94]= "ESOCKTNOSUPPORT"
        _errno_table[95]= "EOPNOTSUPP"
        _errno_table[96]= "EPFNOSUPPORT"
        _errno_table[97]= "EAFNOSUPPORT"
        _errno_table[98]= "EADDRINUSE"
        _errno_table[99]= "EADDRNOTAVAIL"
        _errno_table[100]="ENETDOWN"
        _errno_table[101]="ENETUNREACH"
        _errno_table[102]="ENETRESET"
        _errno_table[103]="ECONNABORTED"
        _errno_table[104]="ECONNRESET"
        _errno_table[105]="ENOBUFS"
        _errno_table[106]="EISCONN"
        _errno_table[107]="ENOTCONN"
        _errno_table[108]="ESHUTDOWN"
        _errno_table[109]="ETOOMANYREFS"
        _errno_table[110]="ETIMEDOUT"
        _errno_table[111]="ECONNREFUSED"
        _errno_table[112]="EHOSTDOWN"
        _errno_table[113]="EHOSTUNREACH"
        _errno_table[114]="EALREADY"
        _errno_table[115]="EINPROGRESS"
        _errno_table[116]="ESTALE"
        _errno_table[117]="EUCLEAN"
        _errno_table[118]="ENOTNAM"
        _errno_table[119]="ENAVAIL"
        _errno_table[120]="EISNAM"
        _errno_table[121]="EREMOTEIO"
        _errno_table[122]="EDQUOT"
        _errno_table[123]="ENOMEDIUM"
        _errno_table[124]="EMEDIUMTYPE"
        _errno_table[125]="ECANCELED"
        _errno_table[126]="ENOKEY"
        _errno_table[127]="EKEYEXPIRED"
        _errno_table[128]="EKEYREVOKED"
        _errno_table[129]="EKEYREJECTED"
}

function errno_str (e) {
        if (e < 0 && e > -130)
                return _errno_table[-e]
        else if (e > 0 && e < 130)
                return _errno_table[e]
        else
                return "E#".string(e)
}
