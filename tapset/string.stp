function strlen:long(s:string) %{
        THIS->__retvalue=strlen(THIS->s);
%}

function substr:string(str:string,start:long,stop:long) %{
	int len=strlen(THIS->str);
	if(THIS->start<0   || THIS->stop<0   || 
	   THIS->start>len || THIS->stop>len || 
	   THIS->start>=THIS->stop)
	{
		return;
	}
	else {
		char *s=THIS->str;
		strncpy(THIS->__retvalue,s+THIS->start,THIS->stop);
		THIS->__retvalue[THIS->stop]='\0';
	}
%}

function isinstr:long(s1:string,s2:string) %{
	if(strstr(THIS->s1,THIS->s2)!=NULL)
		THIS->__retvalue = 1;
	else
		THIS->__retvalue = 0;
%}
