// logging tapset
// Copyright (C) 2005 Red Hat Inc.
//
// This file is part of systemtap, and is free software.  You can
// redistribute it and/or modify it under the terms of the GNU General
// Public License (GPL); either version 2, or (at your option) any
// later version.

function print (msg:string) %{
    _stp_print (THIS->msg);
%}

// like print but with a newline
function log (msg:string) %{
    _stp_printf ("%s\n", THIS->msg);
%}

function printk (msg:string) %{
    printk (KERN_INFO "%s\n", THIS->msg);
%}

function warn (msg:string) %{
    _stp_warn ("%s", THIS->msg);
%}

// NB: exit() does *not* cause immediate return from current function/probe
function exit () %{
    _stp_exit ();
%}

function error (msg:string) %{
    CONTEXT->last_error = "called error()"; /* kill current probe */
    _stp_error ("%s", THIS->msg); /* implies _stp_exit */
%}
