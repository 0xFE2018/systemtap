systemtap: a linux trace/probe tool

Visit the project web site at <http://sources.redhat.com/systemtap>,
for documentation and mailing lists for developers and users.

This is free software.
See the COPYING file for redistribution/modification terms.
See the INSTALL file for generic build instructions.

Prerequisites:

- linux kernel 2.6.11+ with kprobes
- kernel module build environment (kernel-devel or kernel-smp-devel rpm)
- kernel debugging information (kernel-debuginfo rpm)
- C compiler (same as what kernel was compiled with)
- elfutils with libdwfl (from fedora rawhide; include -devel and -libelf-)
- root privileges

Installation steps:

- Install the kernel-debuginfo, kernel-[smp-]devel, gcc packages
- Install the systemtap package, if one already exists.

Build steps:

- Install the kernel-debuginfo, kernel-[smp-]devel, gcc packages.
- Download the latest elfutils snapshot
  ftp://sources.redhat.com/pub/systemtap/elfutils/elfutils-NNNN.tar.gz
  ftp://sources.redhat.com/pub/systemtap/elfutils/elfutils-portability.patch
- Untar the snapshot in some new directory; apply patch (don't ask, long story)
- Download systemtap sources snapshot or from CVS
  ftp://sources.redhat.com/pub/systemtap/snapshots/ 
  (or)
  cvs -d :pserver:anoncvs@sources.redhat.com:/cvs/systemtap login
  # enter "anoncvs" as the password
  cvs -d :pserver:anoncvs@sources.redhat.com:/cvs/systemtap co -c
- Build it
  cd src
  ./configure --with-elfutils=PATCHED-ELFUTILS-DIR [other autoconf options]
  make all check
  make install

Tips :

- systemtap looks for the debug info in these locations:
  /boot/vmlinux-`uname -r`
  /usr/lib/debug/lib/modules/`uname -r`/vmlinux
  /lib/modules/`uname -r`/vmlinux
