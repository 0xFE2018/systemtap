/*
 * logical_and.stp
 *
 * Check the systemtap "logical and" works
 */

global x1_0
global x2_1
global x3_0
global x4_1

probe begin
{
	log("systemtap starting probe")
	x1_0 = 0; x2_1 = 1; x3_0 = 0; x4_1 = 1;
}

probe end
{
	log("systemtap ending probe")
	if (x1_0 && x3_0 ) {
		log("systemtap test failure");
	} else {
		log("systemtap test success");
	}
	if (x2_1 && x3_0 ) {
		log("systemtap test failure");
	} else {
		log("systemtap test success");
	}
	if (x1_0 && x4_1 ) {
		log("systemtap test failure");
	} else {
		log("systemtap test success");
	}
	if (x2_1 && x4_1 ) {
		log("systemtap test success");
	} else {
		log("systemtap test failure");
	}
}
