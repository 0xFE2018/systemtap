/*
 * div.stp0
 *
 * Check the systemtap divide by 0 does not kill the machine
 * FIXME this test needs to be refined
 */

global x3
global x1
global x2

probe begin
{
	log("systemtap starting probe")
	x1 = 56088; x2 = 0;
}

probe end
{
	log("systemtap ending probe")
	x3 = x1 / x2;
	if (x3 != 456 ) {
		log("systemtap test failure");
	} else {
		log("systemtap test success");
	}
}
