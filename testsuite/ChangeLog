2006-12-21  David Smith  <dsmith@redhat.com>

	* systemtap.base/cache.exp: Added test to ensure that using '-b'
	changes the hash.

2006-12-19  Frank Ch. Eigler  <fche@redhat.com>

	PR 3522.
	* buildok/twentyfive.stp: New test for static $var access.

2006-12-18  Josh Stone  <joshua.i.stone@intel.com>	

	* systemtap.base/deref.exp, systemtap.base/deref.exp: Add a test for
	successfully dereferencing pointers of various sizes.  This is known to
	fail on x86 for 64-bit values -- PR 3079.

2006-12-18  David Smith  <dsmith@redhat.com>

	* systemtap.samples/pfaults.stp: Since PR 1132 has been fixed,
	updated to use "$return".

2006-12-08  Josh Stone  <joshua.i.stone@intel.com>

	PR 3681.
	* systemtap.base/global_init.exp, systemtap.base/global_init.stp: New
	test for checking the timeliness of global initialization.

2006-12-07  Josh Stone  <joshua.i.stone@intel.com>

	PR 3624.
	* systemtap.base/be_order.exp, systemtap.base/be_order.stp,
	semok/beginend.stp:  New tests for begin/end priorities.

	* lib/stap_run.exp: Anchor OUTPUT_CHECK_STRING to the end of output.
	* systemtap.base/maxactive.exp: Fix to compare output to the end.
	* systemtap.base/probefunc.exp: Ditto.
	* systemtap.samples/ioblocktest.exp: Ditto.
	* systemtap.samples/ioblocktest.stp: Ditto.
	* systemtap.samples/tcptest.exp: Ditto.

2006-11-30  Martin Hunt  <hunt@redhat.com>

	* systemtap.samples/pfaults.exp: Fix regular expression
	to handle buffering issues that broke on MP systems.

2006-11-29  Li Guanglei <guanglei@cn.ibm.com>
	
	From Gui Jian <guijian@cn.ibm.com>

	* systemtap.samples/lket.exp: Increase MAXSKIPPED
	and timeout thresholds; Fix the code of cleaning 
	temporary files

	* systemtap.stress/whitelist.stp: New testcase to generate
	safe probes.

2006-11-28  David Smith  <dsmith@redhat.com>

	* semko/thirtyfour.stp: Checks for writing to target variable in
	.return probe.
	* semok/twentyfour.stp: Tests read access to target variable in
	.return probe.

2006-11-21  Li Guanglei <guanglei@cn.ibm.com>
	
	From Gui Jian <guijian@cn.ibm.com>
	* systemtap.samples/lket.exp, systemtap.samples/lket.stp: add
	testcase for LKET

2006-11-19  Frank Ch. Eigler  <fche@elastic.org>

	* parseko/twentythree.stp: New test for running tapset file.

2006-11-17  Frank Ch. Eigler  <fche@redhat.com>

	* semko/thirtysix.stp, transko/three.stp: New tests.

2006-11-16  Li Guanglei <guanglei@cn.ibm.com>
	
	* buildok/lket.stp: check for all available LKET trace hooks.

2006-11-10  David Smith  <dsmith@redhat.com>

	* semko/maxactive03.stp: Stop on pass2 instead of on pass1.

	* lib/stap_run.exp: As a side-effect, stap_run() sets global
	'probe_errors' and 'skipped_probes' to the number of probe errors
	and skipped probes seen while running the probe.
	* systemtap.base/maxactive.exp: Uses extended stap_run() to find
	number of skipped probes instead of using private stap_run()
	variant.

2006-11-09  David Smith  <dsmith@redhat.com>

	* buildok/maxactive01.stp: Added test for "maxactive(N)"
	return probe processing.
	* parseko/maxactive01.stp: Ditto.
	* parseko/maxactive02.stp: Ditto.
	* parseko/maxactive03.stp: Ditto.
	* parseko/maxactive04.stp: Ditto.
	* semko/maxactive01.stp: Ditto.
	* semko/maxactive02.stp: Ditto.
	* semko/maxactive03.stp: Ditto.
	* systemtap.base/maxactive.exp: Ditto.

2006-11-06  David Smith  <dsmith@redhat.com>

	* systemtap.maps/foreach_limit.exp: Added new test for foreach
	"limit" keyword.
	* systemtap.maps/foreach_limit.stp: Ditto.

	* parseko/foreachstmt06.stp: Added new test for foreach "limit"
	keyword.
	* parseko/foreachstmt07.stp: Ditto.
	* parseok/foreachstmt01.stp: Ditto.
	* semko/foreachstmt01.stp: Ditto.
	* semko/foreachstmt02.stp: Ditto.

2006-11-02  Thang Nguyen <thang.p.nguyen@intel.com>

	* systemtap.samples/tcptest.exp:  Put TCP load gen into a
	a seperate script. 
	* systemtap.samples/tcptest.tcl:  new script for TCP load
	gen.     

2006-10-30  Josh Stone  <joshua.i.stone@intel.com>

	* systemtap.maps/pmap_agg_overflow.stp: Use
	kernel.function("scheduler_tick") instead of timer.jiffies
	so the test works on all kernels.  The test needs a probe
	that is invoked often on all cpus.
	* systemtap.base/timers.stp: Fudge the comparison a bit between
	jiffies(1) and profile to allow for slop between start/end times.

2006-10-30  Martin Hunt  <hunt@redhat.com>

	* systemtap.maps/pmap_agg_overflow.stp: Use timer.jiffies
	instead of timer.profile so the test works on xen kernels.

2006-10-30  David Smith  <dsmith@redhat.com>

	* systemtap.base/cache.exp: Saves value of SYSTEMTAP_DIR
	environment variable before starting tests and restores value at
	the end.  Without this caching was broken for the rest of the
	testsuite, since all cached files were ending up in
	testsuite/.cache_test (which gets deleted on the next run of the
	testsuite).

	* Makefile.am: The 'clean-local' target now removes the .systemtap
	and .cache_test directories.
	* Makefile.in: Regenerated.

2006-10-30  Martin Hunt  <hunt@redhat.com>

	* systemtap.base/cache.exp (stap_compile): Fix a simple 
	buffering problem with expect.

2006-10-26  David Smith  <dsmith@redhat.com>

	* systemtap.base/cache.exp: New file that tests caching
	functionality.
	* lib/systemtap.exp (setup_systemtap_environment): Use a local
	systemtap directory/cache (instead of the user's cache).
	* .cvsignore: Added .systemtap directory.

2006-10-23  David Smith  <dsmith@redhat.com>

	* lib/stap_run.exp: Handles cached module.
	* lib/stap_run2.exp: Ditto.

2006-10-23  William Cohen  <wcohen@redhat.com>

	* systemtap.maps/absentstats.exp: Increase timeout for slow machines.

2006-10-21  Thang Nguyen <thang.p.nguyen@intel.com>

	* systemtap.samples/tcptest.exp: fix bug #3404 
	* systemtap.samples/tcptest.stp: fix bug #3404

2006-10-18  David Smith  <dsmith@redhat.com>

	* systemtap.syscall/.cvsignore: Added file.

2006-09-28  Martin Hunt  <hunt@redhat.com>

	* buildok/eighteen.stp: Fix for 2.6.18.
	* buildok/two.stp: Ditto.

2006-09-27  Josh Stone  <joshua.i.stone@intel.com>

	* buildok/fourteen.stp: Test new timer functionality.

2006-09-26  David Smith  <dsmith@redhat.com>

	* systemtap.samples/args.exp: Looks for 'staprun' instead of
	'stpd'.

2006-09-20  Josh Stone  <joshua.i.stone@intel.com>

	PR 3233
	* buildok/timestamp.stp: add gettimeofday_ns test.

2006-09-12  David Smith  <dsmith@redhat.com>

	* Added .cvsignore file.

2006-09-09  Frank Ch. Eigler  <fche@elastic.org>

	* lib/systemtap.exp (stap_run_batch): New helper routine.
	* systemtap.pass1-4/*.exp: Use it instead of catch/exec/>>& hack.

2006-09-06  Frank Ch. Eigler  <fche@elastic.org>

	* parseok/eighteen.stp, semok/twentythree.stp: New files for
	testing initialized globals.

2006-08-21  Martin Hunt  <hunt@redhat.com>

	* lib/stap_run.exp: Check for existence of installtest_p
	before running it. This reenables running individual tests
	with runtest.
	* lib/stap_run2.exp: Ditto.
	* lib/stap_run_binary.exp: Ditto.	

2006-08-12  Frank Ch. Eigler  <fche@elastic.org>

	* Makefile.am (clean-local): Clean up dejagnu turds.
	* Makefile.in: Regenerated.

2006-08-12  Frank Ch. Eigler  <fche@elastic.org>

	* all: Reorganized old pass-1..4 tests one dejagnu bucket.
	Moved over old pass-5 tests, except for disabled syscalls tests.
	* Makefile (installcheck): New target for running pass-1..5
	tests against installed systemtap.
