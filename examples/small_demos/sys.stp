#!/usr/bin/env stap

# print all system calls on the system

probe syscall.* {
  if (execname() != "staprun")
	printf("%s: %s (%s) = ", execname(), name, argstr)
}

probe syscall.*.return {
  if (execname() != "staprun")
	printf("%s\n", retstr)
}

probe end {
	printf("\n")
}
